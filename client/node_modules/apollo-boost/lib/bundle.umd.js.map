{"version":3,"file":"bundle.umd.js","sources":["bundle.esm.js"],"sourcesContent":["import { __extends } from 'tslib';\nimport ApolloClient__default from 'apollo-client';\nexport * from 'apollo-client';\nimport { ApolloLink, Observable } from 'apollo-link';\nexport * from 'apollo-link';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nexport * from 'apollo-cache-inmemory';\nimport { HttpLink } from 'apollo-link-http';\nexport { HttpLink } from 'apollo-link-http';\nimport { onError } from 'apollo-link-error';\nexport { default as gql } from 'graphql-tag';\nimport { invariant } from 'ts-invariant';\n\nvar PRESET_CONFIG_KEYS = [\n    'request',\n    'uri',\n    'credentials',\n    'headers',\n    'fetch',\n    'fetchOptions',\n    'clientState',\n    'onError',\n    'cacheRedirects',\n    'cache',\n    'name',\n    'version',\n    'resolvers',\n    'typeDefs',\n    'fragmentMatcher',\n];\nvar DefaultClient = (function (_super) {\n    __extends(DefaultClient, _super);\n    function DefaultClient(config) {\n        if (config === void 0) { config = {}; }\n        var _this = this;\n        if (config) {\n            var diff = Object.keys(config).filter(function (key) { return PRESET_CONFIG_KEYS.indexOf(key) === -1; });\n            if (diff.length > 0) {\n                process.env.NODE_ENV === \"production\" || invariant.warn('ApolloBoost was initialized with unsupported options: ' +\n                    (\"\" + diff.join(' ')));\n            }\n        }\n        var request = config.request, uri = config.uri, credentials = config.credentials, headers = config.headers, fetch = config.fetch, fetchOptions = config.fetchOptions, clientState = config.clientState, cacheRedirects = config.cacheRedirects, errorCallback = config.onError, name = config.name, version = config.version, resolvers = config.resolvers, typeDefs = config.typeDefs, fragmentMatcher = config.fragmentMatcher;\n        var cache = config.cache;\n        process.env.NODE_ENV === \"production\" ? invariant(!cache || !cacheRedirects) : invariant(!cache || !cacheRedirects, 'Incompatible cache configuration. If providing `cache` then ' +\n            'configure the provided instance with `cacheRedirects` instead.');\n        if (!cache) {\n            cache = cacheRedirects\n                ? new InMemoryCache({ cacheRedirects: cacheRedirects })\n                : new InMemoryCache();\n        }\n        var errorLink = errorCallback\n            ? onError(errorCallback)\n            : onError(function (_a) {\n                var graphQLErrors = _a.graphQLErrors, networkError = _a.networkError;\n                if (graphQLErrors) {\n                    graphQLErrors.map(function (_a) {\n                        var message = _a.message, locations = _a.locations, path = _a.path;\n                        return process.env.NODE_ENV === \"production\" || invariant.warn(\"[GraphQL error]: Message: \" + message + \", Location: \" +\n                            (locations + \", Path: \" + path));\n                    });\n                }\n                if (networkError) {\n                    process.env.NODE_ENV === \"production\" || invariant.warn(\"[Network error]: \" + networkError);\n                }\n            });\n        var requestHandler = request\n            ? new ApolloLink(function (operation, forward) {\n                return new Observable(function (observer) {\n                    var handle;\n                    Promise.resolve(operation)\n                        .then(function (oper) { return request(oper); })\n                        .then(function () {\n                        handle = forward(operation).subscribe({\n                            next: observer.next.bind(observer),\n                            error: observer.error.bind(observer),\n                            complete: observer.complete.bind(observer),\n                        });\n                    })\n                        .catch(observer.error.bind(observer));\n                    return function () {\n                        if (handle) {\n                            handle.unsubscribe();\n                        }\n                    };\n                });\n            })\n            : false;\n        var httpLink = new HttpLink({\n            uri: uri || '/graphql',\n            fetch: fetch,\n            fetchOptions: fetchOptions || {},\n            credentials: credentials || 'same-origin',\n            headers: headers || {},\n        });\n        var link = ApolloLink.from([errorLink, requestHandler, httpLink].filter(function (x) { return !!x; }));\n        var activeResolvers = resolvers;\n        var activeTypeDefs = typeDefs;\n        var activeFragmentMatcher = fragmentMatcher;\n        if (clientState) {\n            if (clientState.defaults) {\n                cache.writeData({\n                    data: clientState.defaults,\n                });\n            }\n            activeResolvers = clientState.resolvers;\n            activeTypeDefs = clientState.typeDefs;\n            activeFragmentMatcher = clientState.fragmentMatcher;\n        }\n        _this = _super.call(this, {\n            cache: cache,\n            link: link,\n            name: name,\n            version: version,\n            resolvers: activeResolvers,\n            typeDefs: activeTypeDefs,\n            fragmentMatcher: activeFragmentMatcher,\n        }) || this;\n        return _this;\n    }\n    return DefaultClient;\n}(ApolloClient__default));\n\nexport default DefaultClient;\n//# sourceMappingURL=bundle.esm.js.map\n"],"names":["__extends","invariant","InMemoryCache","onError","ApolloLink","Observable","HttpLink","ApolloClient__default"],"mappings":"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"}