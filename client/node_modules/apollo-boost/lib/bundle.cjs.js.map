{"version":3,"file":"bundle.cjs.js","sources":["bundle.esm.js"],"sourcesContent":["import { __extends } from 'tslib';\nimport ApolloClient__default from 'apollo-client';\nexport * from 'apollo-client';\nimport { ApolloLink, Observable } from 'apollo-link';\nexport * from 'apollo-link';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nexport * from 'apollo-cache-inmemory';\nimport { HttpLink } from 'apollo-link-http';\nexport { HttpLink } from 'apollo-link-http';\nimport { onError } from 'apollo-link-error';\nexport { default as gql } from 'graphql-tag';\nimport { invariant } from 'ts-invariant';\n\nvar PRESET_CONFIG_KEYS = [\n    'request',\n    'uri',\n    'credentials',\n    'headers',\n    'fetch',\n    'fetchOptions',\n    'clientState',\n    'onError',\n    'cacheRedirects',\n    'cache',\n    'name',\n    'version',\n    'resolvers',\n    'typeDefs',\n    'fragmentMatcher',\n];\nvar DefaultClient = (function (_super) {\n    __extends(DefaultClient, _super);\n    function DefaultClient(config) {\n        if (config === void 0) { config = {}; }\n        var _this = this;\n        if (config) {\n            var diff = Object.keys(config).filter(function (key) { return PRESET_CONFIG_KEYS.indexOf(key) === -1; });\n            if (diff.length > 0) {\n                process.env.NODE_ENV === \"production\" || invariant.warn('ApolloBoost was initialized with unsupported options: ' +\n                    (\"\" + diff.join(' ')));\n            }\n        }\n        var request = config.request, uri = config.uri, credentials = config.credentials, headers = config.headers, fetch = config.fetch, fetchOptions = config.fetchOptions, clientState = config.clientState, cacheRedirects = config.cacheRedirects, errorCallback = config.onError, name = config.name, version = config.version, resolvers = config.resolvers, typeDefs = config.typeDefs, fragmentMatcher = config.fragmentMatcher;\n        var cache = config.cache;\n        process.env.NODE_ENV === \"production\" ? invariant(!cache || !cacheRedirects) : invariant(!cache || !cacheRedirects, 'Incompatible cache configuration. If providing `cache` then ' +\n            'configure the provided instance with `cacheRedirects` instead.');\n        if (!cache) {\n            cache = cacheRedirects\n                ? new InMemoryCache({ cacheRedirects: cacheRedirects })\n                : new InMemoryCache();\n        }\n        var errorLink = errorCallback\n            ? onError(errorCallback)\n            : onError(function (_a) {\n                var graphQLErrors = _a.graphQLErrors, networkError = _a.networkError;\n                if (graphQLErrors) {\n                    graphQLErrors.map(function (_a) {\n                        var message = _a.message, locations = _a.locations, path = _a.path;\n                        return process.env.NODE_ENV === \"production\" || invariant.warn(\"[GraphQL error]: Message: \" + message + \", Location: \" +\n                            (locations + \", Path: \" + path));\n                    });\n                }\n                if (networkError) {\n                    process.env.NODE_ENV === \"production\" || invariant.warn(\"[Network error]: \" + networkError);\n                }\n            });\n        var requestHandler = request\n            ? new ApolloLink(function (operation, forward) {\n                return new Observable(function (observer) {\n                    var handle;\n                    Promise.resolve(operation)\n                        .then(function (oper) { return request(oper); })\n                        .then(function () {\n                        handle = forward(operation).subscribe({\n                            next: observer.next.bind(observer),\n                            error: observer.error.bind(observer),\n                            complete: observer.complete.bind(observer),\n                        });\n                    })\n                        .catch(observer.error.bind(observer));\n                    return function () {\n                        if (handle) {\n                            handle.unsubscribe();\n                        }\n                    };\n                });\n            })\n            : false;\n        var httpLink = new HttpLink({\n            uri: uri || '/graphql',\n            fetch: fetch,\n            fetchOptions: fetchOptions || {},\n            credentials: credentials || 'same-origin',\n            headers: headers || {},\n        });\n        var link = ApolloLink.from([errorLink, requestHandler, httpLink].filter(function (x) { return !!x; }));\n        var activeResolvers = resolvers;\n        var activeTypeDefs = typeDefs;\n        var activeFragmentMatcher = fragmentMatcher;\n        if (clientState) {\n            if (clientState.defaults) {\n                cache.writeData({\n                    data: clientState.defaults,\n                });\n            }\n            activeResolvers = clientState.resolvers;\n            activeTypeDefs = clientState.typeDefs;\n            activeFragmentMatcher = clientState.fragmentMatcher;\n        }\n        _this = _super.call(this, {\n            cache: cache,\n            link: link,\n            name: name,\n            version: version,\n            resolvers: activeResolvers,\n            typeDefs: activeTypeDefs,\n            fragmentMatcher: activeFragmentMatcher,\n        }) || this;\n        return _this;\n    }\n    return DefaultClient;\n}(ApolloClient__default));\n\nexport default DefaultClient;\n//# sourceMappingURL=bundle.esm.js.map\n"],"names":["__extends","invariant","InMemoryCache","onError","ApolloLink","Observable","HttpLink","ApolloClient__default"],"mappings":"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"}